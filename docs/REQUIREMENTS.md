# 📋 산불 통합 관리 플랫폼 - 기능요구서

**버전 1.0 | 2024-10-22**

---

## 1. 문서 정보

| 항목 | 내용 |
|------|------|
| **프로젝트명** | 산불 통합 관리 플랫폼 |
| **문서 버전** | 1.0 |
| **작성일** | 2024-10-22 |
| **기술 스택** | React 18 + Vite + Firebase |

---

## 2. 개요

### 2.1 목적
본 문서는 산불 통합 관리 플랫폼의 기능 요구사항을 정의하고, 각 기능의 상세 명세와 사용자 시나리오를 제시합니다. 개발팀이 시스템을 구현하고 QA팀이 테스트를 수행하는 데 필요한 기준을 제공합니다.

### 2.2 범위
본 문서는 Phase 1 MVP 기능에 한정하며, React 웹 애플리케이션과 Firebase 백엔드 기능을 포함합니다.

### 2.3 대상 독자
- 프로젝트 매니저
- 개발팀 (프론트엔드, 백엔드)
- QA 엔지니어
- UI/UX 디자이너
- 제품 오너

---

## 3. 시스템 개요

### 3.1 시스템 목표
산불 발생 데이터를 시각화하고 분석하여 사용자가 산불 현황을 직관적으로 파악하고, 위험 지역을 사전에 인지할 수 있도록 합니다.

**핵심 가치:**
- 직관적인 지도 기반 시각화
- 실시간 통계 및 차트
- 다양한 필터 및 검색 기능
- 반응형 웹 디자인

### 3.2 사용자 유형

| 사용자 유형 | 역할 | 주요 기능 |
|------------|------|----------|
| **일반 사용자** | 산불 현황 조회 | 지도, 통계, 필터 |
| **관리자** | 데이터 관리 | CRUD, 통계 분석 |
| **정책 결정자** | 의사결정 지원 | 대시보드, 리포트 |

---

## 4. 기능 요구사항

### 🔥 FR-001: 산불 위치 지도

**우선순위:** 높음 (Must Have)

**설명:** 전국 산불 발생 위치를 대한민국 지도 위에 마커로 표시합니다.

**상세 기능:**
1. Google Maps API 기반 지도 표시
2. 위험도별 마커 색상 구분 (빨강/주황/초록)
3. 마커 클러스터링으로 성능 최적화
4. 확대/축소, 패닝 지원
5. 대한민국 중심 좌표 (위도 36.5, 경도 127.5)

**사용자 시나리오:**
1. 사용자가 웹사이트에 접속하면 자동으로 대한민국 전체 지도가 표시됩니다.
2. 지도 위에 산불 발생 위치가 색상별 마커로 표시됩니다.
3. 사용자는 마우스 휠로 확대/축소할 수 있습니다.
4. 특정 지역을 클릭하거나 드래그하여 상세하게 볼 수 있습니다.
5. 마커가 많은 지역은 자동으로 클러스터링되어 숫자로 표시됩니다.

**수용 기준:**
- ✅ 1,000개 이상의 마커를 1초 이내에 로딩
- ✅ 확대/축소 시 60fps 유지
- ✅ 모바일 터치 제스처 지원
- ✅ 지도 컨트롤(확대/축소, 지도 유형) 표시

---

### 🔥 FR-002: 마커 상세 정보 팝업 (InfoWindow)

**우선순위:** 높음 (Must Have)

**설명:** 마커 클릭 시 산불 상세 정보를 팝업으로 표시합니다.

**표시 정보:**
- 발생 지역 (시도, 시군구)
- 발생 일시 (YYYY-MM-DD)
- 피해 면적 (ha)
- 발생 원인
- 인명 피해 (있는 경우)

**사용자 시나리오:**
1. 사용자가 지도 위의 마커를 클릭합니다.
2. InfoWindow가 마커 위에 나타나며 산불 상세 정보를 표시합니다.
3. InfoWindow 외부를 클릭하거나 X 버튼을 클릭하면 닫힙니다.
4. 다른 마커를 클릭하면 이전 InfoWindow가 자동으로 닫히고 새 InfoWindow가 표시됩니다.

**수용 기준:**
- ✅ 마커 클릭 시 즉시 InfoWindow 표시
- ✅ 깔끔하고 읽기 쉬운 레이아웃
- ✅ 모든 필수 정보 표시

---

### 🔥 FR-003: 통계 대시보드

**우선순위:** 높음 (Must Have)

**설명:** 산불 발생 통계를 시각적으로 표시하는 대시보드를 제공합니다.

**구성 요소:**

#### 1. 핵심 통계 카드 3개
- **총 산불 건수**: 전체 데이터셋의 총 건수
- **총 피해면적**: 모든 산불의 피해면적 합계 (ha)
- **올해 산불 건수**: 현재 연도 발생 건수

#### 2. 원인별 통계
- 발생 원인별 건수를 나열
- 각 원인별 건수를 배지 형태로 표시

**시각적 디자인:**
- 카드 형태의 레이아웃
- 색상 코딩 (빨강, 주황, 노랑 계열)
- 좌측 테두리 강조

**수용 기준:**
- ✅ 데이터 로딩 시간 2초 이내
- ✅ 반응형 레이아웃 (모바일/태블릿/데스크톱)
- ✅ 실시간 데이터 반영

---

### 🔥 FR-004: 필터 및 검색

**우선순위:** 중간 (Should Have - Phase 2)

**설명:** 사용자가 원하는 조건으로 산불 데이터를 필터링할 수 있습니다.

**필터 항목:**
- 📅 **날짜 범위** (시작일 ~ 종료일)
- 📍 **지역** (시도 단위 다중 선택)
- 📏 **피해 면적 범위** (최소 ~ 최대)
- 🔥 **발생 원인** (다중 선택)

**사용자 시나리오:**
1. 사용자가 좌측 사이드바의 필터 패널을 엽니다.
2. 원하는 필터 조건을 선택합니다 (예: 강원도, 2024년).
3. 적용 버튼을 클릭하면 지도와 통계가 즉시 업데이트됩니다.
4. 초기화 버튼을 클릭하면 모든 필터가 해제됩니다.

---

### 🔥 FR-005: 사용자 인증

**우선순위:** 낮음 (Could Have - Phase 3)

**설명:** Firebase Authentication을 통한 회원가입 및 로그인 기능을 제공합니다.

**지원 방식:**
- 📧 이메일/비밀번호 로그인
- 🔐 구글 계정 로그인 (OAuth)
- 🔑 비밀번호 재설정

---

## 5. 비기능 요구사항

### 5.1 성능

| 항목 | 목표 | 측정 방법 |
|------|------|----------|
| 초기 로딩 시간 | 3초 이내 | Lighthouse |
| 지도 렌더링 | 1초 이내 | Performance API |
| 필터 적용 시간 | 500ms 이내 | React DevTools |
| 번들 크기 | 1MB 이하 | Vite Build |

### 5.2 사용성
- 직관적인 UI/UX 디자인
- 3클릭 이내에 모든 주요 기능 접근 가능
- 명확한 아이콘 및 레이블 사용
- 로딩 상태 및 에러 메시지 명확하게 표시

### 5.3 호환성
- **브라우저:** Chrome 90+, Firefox 88+, Safari 14+, Edge 90+
- **화면 해상도:** 320px ~ 4K 지원
- **모바일 기기:** iOS 14+, Android 10+

### 5.4 보안
- HTTPS 강제 사용
- Firebase Security Rules로 데이터 접근 제어
- XSS, CSRF 공격 방어
- 환경 변수로 API 키 관리

---

## 6. 데이터 모델

### 6.1 Firestore 컬렉션: `wildfires`

| 필드명 | 타입 | 필수 | 설명 |
|--------|------|------|------|
| `id` | string | Y | 문서 ID |
| `location` | string | Y | 발생 지역 (시군구) |
| `latitude` | number | Y | 위도 |
| `longitude` | number | Y | 경도 |
| `date` | string | Y | 발생일 (YYYY-MM-DD) |
| `area` | number | Y | 피해면적(ha) |
| `cause` | string | Y | 발생 원인 |
| `casualties` | string | N | 인명피해 |

**예시 데이터:**
```json
{
  "id": "1",
  "location": "강원도 속초시",
  "latitude": 38.2070,
  "longitude": 128.5918,
  "date": "2023-04-11",
  "area": 213.5,
  "cause": "입산자 실화",
  "casualties": "1명 사망, 11명 부상"
}
```

---

## 7. UI/UX 가이드라인

### 7.1 컬러 팔레트

| 용도 | 색상 | Hex |
|------|------|-----|
| 주요 색상 | 빨강 | `#dc2626` |
| 경고 | 주황 | `#f59e0b` |
| 안전 | 초록 | `#10b981` |
| 배경 | 회색 | `#f3f4f6` |

### 7.2 타이포그래피
- **기본 폰트:** -apple-system, sans-serif
- **제목:** 24px ~ 36px, Bold
- **본문:** 14px ~ 16px, Regular
- **캡션:** 12px, Medium

### 7.3 반응형 브레이크포인트
- **모바일:** 320px ~ 767px
- **태블릿:** 768px ~ 1023px
- **데스크톱:** 1024px 이상

---

## 8. 테스트 시나리오

### 8.1 기능 테스트

| ID | 테스트 케이스 | 예상 결과 | 우선순위 |
|----|-------------|----------|---------|
| TC-001 | 지도 초기 로딩 | 3초 이내 표시 | 높음 |
| TC-002 | 마커 클릭 시 InfoWindow | 상세정보 표시 | 높음 |
| TC-003 | 통계 대시보드 렌더링 | 즉시 표시 | 높음 |
| TC-004 | 샘플 데이터 10건 표시 | 모든 마커 표시 | 높음 |
| TC-005 | 모바일 반응형 | 레이아웃 변경 | 높음 |

---

## 9. 개발 단계 (Phase)

### Phase 1 - MVP (현재)
- ✅ React + Vite 프로젝트 설정
- ✅ Google Maps 통합
- ✅ 통계 대시보드
- ✅ 샘플 데이터 (10건)
- ✅ Firebase 설정 파일

### Phase 2 - 향상 기능
- ⏳ 필터링 기능
- ⏳ 차트 추가 (월별, 지역별)
- ⏳ 실제 산불 데이터 연동
- ⏳ 검색 기능

### Phase 3 - 고급 기능
- ⏳ 사용자 인증
- ⏳ 데이터 CRUD
- ⏳ 리포트 생성
- ⏳ AI 위험 예측

---

## 10. 부록

### 10.1 용어 정의
- **Firebase:** Google의 백엔드 서비스 플랫폼
- **Firestore:** NoSQL 클라우드 데이터베이스
- **Google Maps API:** 구글 지도 서비스
- **InfoWindow:** 지도 마커 클릭 시 표시되는 정보 창
- **MVP:** Minimum Viable Product (최소 기능 제품)

### 10.2 변경 이력

| 버전 | 일자 | 변경 내용 |
|------|------|----------|
| 1.0 | 2024-10-22 | 최초 작성 |

---

**문서 작성자:** 개발팀
**검토자:** 프로젝트 매니저
**승인자:** 제품 오너
